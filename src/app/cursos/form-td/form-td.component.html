<h4>Formulario TemplateDriven</h4>
<form #form1='ngForm' name="form-td" (submit)="enviar($event)">
    <fieldset>
        <legend>Datos de usuario</legend>
            <div class="form-group">
                <label for="nombre">Nombre</label>
                <input type="text" class="form-control" required minlength="2"
                    id="nombre" name="nombre" [(ngModel)]="oAlumno.nombre"
                    #nombreState="ngModel">
            </div>
            <div class="errors" *ngIf="nombreState.invalid && nombreState.touched">
                    <!-- [hidden]= "nombre.untouched || nombre.valid" -->
                    <p *ngIf="nombreState?.errors.required">
                        Es necesario completar el nombre
                    </p>
                    <p *ngIf="nombreState?.errors.minlength">
                        El nombre debe tener al menos 2 caracteres
                    </p>
            </div>
            <div class="form-group">
                <label for="apellidos">Apellidos</label>
                <input type="text" class="form-control" required
                    name="apellidos" id="apellidos" [(ngModel)]="oAlumno.apellidos"
                    #apellidosState = "ngModel">
            </div>
            <div class="errors" *ngIf="apellidosState.invalid && apellidosState.touched">
                    Es necesario completar el apellido
            </div>
            <div class="form-group">
                <label for="email">Correo</label>
                <input type="email" class="form-control" required
                    name="email" id="email" [(ngModel)]="oAlumno.email">
            </div>        
    </fieldset>
  <fieldset >
    <legend>Datos del curso</legend>
        <div class="form-check">
            <label class="form-check-label">
                <input type="checkbox" class="form-check-input" required
                    name="isOk" id="isOk" [(ngModel)]="oAlumno.isOk"
                    #isOkState="ngModel">
                Estoy de acuerdo con las normas del curso
            </label>
        </div>  
        <div class="errors" *ngIf="isOkState.invalid && isOkState.touched">
                Es necesario aceptar las condiciones
        </div>        
        <div>
            <legend>Turno</legend>
            <div class="form-check" *ngFor="let item of aTurnos">
                <label class="form-check-label" [title]="item.horario">
                    <input type="radio" class="form-check-input" required
                        name="turno" [id]="'turno-'+item.id" [(ngModel)]="oAlumno.turno"
                        [value]="item">
                    {{ item.nombre | titlecase}}
                </label>
            </div>          
        </div>  
        <!-- <div class="errors" *ngIf="form1?.form.controls.turno.invalid 
                                    && form1?.form.controls.turno.touched">
                Es necesario seleccionar un turno
        </div> -->
        <div class="form-group mt-2" >
        <label for="curso">Selecciona el tema</label>
            <select class="form-control" required #cursoState="ngModel"
                name="curso" id="curso" [(ngModel)]="oAlumno.curso">
                <option *ngFor="let item of aCursos" [ngValue]="item"
                    [title]="item.descripcion">
                    {{item.nombre}}
                </option>
            </select>
        </div>
        <div class="errors" *ngIf="cursoState.invalid && cursoState.touched">
                Es necesario seleccionar un curso
        </div>         
  </fieldset>
  <button type="submit" class="btn btn-primary" [disabled]="form1.invalid">
      Enviar</button>
    <button type="reset" class="btn btn-primary" [disabled]="form1.pristine">
        Borrar</button>
</form>
<div class="mt-2">
    <!-- <p>{{ form1.form.controls | json }}</p> -->
</div>